2:46:52 PM: build-image version: e5074bde24e53715f94c72a3902b7868fbfe84e1 (noble)
2:46:52 PM: buildbot version: e5074bde24e53715f94c72a3902b7868fbfe84e1
2:46:52 PM: Fetching cached dependencies
2:46:52 PM: Starting to download cache of 423.6MB (Last modified: 2025-08-14 12:39:01 +0000 UTC)
2:46:53 PM: Finished downloading cache in 1.083s
2:46:53 PM: Starting to extract cache
2:47:00 PM: Finished extracting cache in 6.505s
2:47:00 PM: Finished fetching cache in 7.684s
2:47:00 PM: Starting to prepare the repo for build
2:47:00 PM: Preparing Git Reference refs/heads/main
2:47:01 PM: Custom functions path detected. Proceeding with the specified path: 'netlify/functions'
2:47:01 PM: Custom build command detected. Proceeding with the specified command: 'node build-netlify.js'
2:47:02 PM: Starting to install dependencies
2:47:02 PM: Started restoring cached python cache
2:47:02 PM: Finished restoring cached python cache
2:47:02 PM: Started restoring cached ruby cache
2:47:03 PM: Finished restoring cached ruby cache
2:47:03 PM: Started restoring cached go cache
2:47:04 PM: Finished restoring cached go cache
2:47:04 PM: Started restoring cached Node.js version
2:47:05 PM: Finished restoring cached Node.js version
2:47:05 PM: v20.19.4 is already installed.
2:47:05 PM: Now using node v20.19.4 (npm v10.8.2)
2:47:05 PM: Enabling Node.js Corepack
2:47:05 PM: Started restoring cached build plugins
2:47:05 PM: Finished restoring cached build plugins
2:47:05 PM: Started restoring cached corepack dependencies
2:47:05 PM: Finished restoring cached corepack dependencies
2:47:05 PM: No npm workspaces detected
2:47:05 PM: Started restoring cached node modules
2:47:05 PM: Finished restoring cached node modules
2:47:05 PM: Installing npm packages using npm version 10.8.2
2:47:06 PM: up to date in 546ms
2:47:06 PM: npm packages installed
2:47:06 PM: Successfully installed dependencies
2:47:06 PM: Starting build script
2:47:07 PM: Detected 1 framework(s)
2:47:07 PM: "vite" at version "5.4.19"
2:47:07 PM: Section completed: initializing
2:47:08 PM: â€‹
2:47:08 PM: Netlify Build                                                 
2:47:08 PM: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2:47:08 PM: â€‹
2:47:08 PM: â¯ Version
2:47:08 PM:   @netlify/build 35.0.7
2:47:08 PM: â€‹
2:47:08 PM: â¯ Flags
2:47:08 PM:   accountId: 6786aa5b927658b4b62b93d6
2:47:08 PM:   baseRelDir: true
2:47:08 PM:   buildId: 689ddabb55f3ab00083b6f3e
2:47:08 PM:   deployId: 689ddabb55f3ab00083b6f40
2:47:09 PM: â€‹
2:47:09 PM: â¯ Current directory
2:47:09 PM:   /opt/build/repo
2:47:09 PM: â€‹
2:47:09 PM: â¯ Config file
2:47:09 PM:   /opt/build/repo/netlify.toml
2:47:09 PM: â€‹
2:47:09 PM: â¯ Context
2:47:09 PM:   production
2:47:09 PM: â€‹
2:47:09 PM: â¯ Installing extensions
2:47:09 PM:    - neon
2:47:10 PM: â€‹
2:47:10 PM: â¯ Loading extensions
2:47:10 PM:    - neon
2:47:11 PM: â€‹
2:47:11 PM: build.command from netlify.toml                               
2:47:11 PM: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2:47:11 PM: â€‹
2:47:11 PM: $ node build-netlify.js
2:47:11 PM: ðŸ”§ Building for Netlify deployment...
2:47:11 PM: Building frontend...
2:47:11 PM: vite v5.4.19 building for production...
2:47:11 PM: transforming...
2:47:14 PM: âœ“ 1733 modules transformed.
2:47:14 PM: rendering chunks...
2:47:14 PM: computing gzip size...
2:47:14 PM: ../dist/public/index.html                   0.63 kB â”‚ gzip:   0.38 kB
2:47:14 PM: ../dist/public/assets/index-XGO3swjz.css   85.89 kB â”‚ gzip:  14.20 kB
2:47:14 PM: ../dist/public/assets/index-QlEd8Quj.js   423.37 kB â”‚ gzip: 127.77 kB
2:47:14 PM: âœ“ built in 3.05s
2:47:14 PM: Building server...
2:47:14 PM: Building server/index.ts -> dist/server/index.js
2:47:14 PM:   dist/server/index.js  37.1kb
2:47:14 PM: âš¡ Done in 5ms
2:47:14 PM: Building server/routes.ts -> dist/server/routes.js
2:47:14 PM:   dist/server/routes.js  32.8kb
2:47:14 PM: âš¡ Done in 4ms
2:47:14 PM: Building server/db.ts -> dist/server/db.js
2:47:14 PM:   dist/server/db.js  4.9kb
2:47:14 PM: âš¡ Done in 2ms
2:47:14 PM: Building server/storage.ts -> dist/server/storage.js
2:47:14 PM:   dist/server/storage.js  18.9kb
2:47:14 PM: âš¡ Done in 3ms
2:47:14 PM:   dist/shared/schema.js  3.8kb
2:47:14 PM: âš¡ Done in 2ms
2:47:14 PM: âœ… Netlify build completed successfully!
2:47:14 PM: â€‹
2:47:14 PM: (build.command completed in 3.3s)
2:47:14 PM: â€‹
2:47:14 PM: Functions bundling                                            
2:47:14 PM: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2:47:14 PM: â€‹
2:47:14 PM: Packaging Functions from netlify/functions directory:
2:47:14 PM:  - admin-signals.mjs
2:47:14 PM:  - admin-user-subscription.mjs
2:47:14 PM:  - admin-users.mjs
2:47:14 PM:  - debug.mjs
2:47:14 PM:  - emergency-login.mjs
2:47:14 PM:  - logout.mjs
2:47:14 PM:  - placeholder.mjs
2:47:14 PM:  - plans.mjs
2:47:14 PM:  - server.mjs
2:47:14 PM:  - signals.mjs
2:47:14 PM:  - simple-login.mjs
2:47:14 PM:  - test.mjs
2:47:14 PM:  - user-subscription-status.mjs
2:47:14 PM:  - user-subscription.mjs
2:47:14 PM: â€‹
2:47:15 PM: âœ˜ [ERROR] Top-level await is currently not supported with the "cjs" output format
2:47:15 PM:     netlify/functions/server.mjs:7:23:
2:47:15 PM:       7 â”‚   const routesModule = await import('../../dist/server/routes.js');
2:47:15 PM:         â•µ                        ~~~~~
2:47:15 PM: âœ˜ [ERROR] Unexpected "catch"
2:47:15 PM:     netlify/functions/signals.mjs:153:4:
2:47:15 PM:       153 â”‚   } catch (error) {
2:47:15 PM:           â•µ     ~~~~~
2:47:15 PM: â€‹
2:47:15 PM: Bundling of function "signals" failed                         
2:47:15 PM: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2:47:15 PM: â€‹
2:47:15 PM:   Error message
2:47:15 PM:   Build failed with 1 error:
2:47:15 PM:   netlify/functions/signals.mjs:153:4: ERROR: Unexpected "catch"
2:47:15 PM: â€‹
2:47:15 PM:   Error location
2:47:15 PM:   While bundling function "signals"
2:47:15 PM: â€‹
2:47:15 PM:   Resolved config
2:47:15 PM:   build:
2:47:15 PM:     command: node build-netlify.js
2:47:15 PM:     commandOrigin: config
2:47:15 PM:     environment:
2:47:15 PM:       - NETLIFY_DATABASE_URL
2:47:15 PM:       - NETLIFY_DATABASE_URL_UNPOOLED
2:47:15 PM:       - OZOW_PRIVATE_KEY
2:47:15 PM:       - OZOW_SITE_CODE
2:47:15 PM:       - NODE_VERSION
2:47:15 PM:     publish: /opt/build/repo/dist/public
2:47:15 PM:     publishOrigin: config
2:47:15 PM:   functions:
2:47:15 PM:     "*":
2:47:15 PM:       node_bundler: esbuild
2:47:15 PM:   functionsDirectory: /opt/build/repo/netlify/functions
2:47:15 PM:   redirects:
2:47:15 PM:     - from: /api/login
2:47:15 PM:       status: 200
2:47:15 PM:       to: /.netlify/functions/emergency-login
2:47:15 PM:     - from: /api/plans
2:47:15 PM:       status: 200
2:47:15 PM:       to: /.netlify/functions/plans
2:47:15 PM:     - from: /api/signals
2:47:15 PM:       status: 200
2:47:15 PM:       to: /.netlify/functions/signals
2:47:15 PM:     - from: /api/admin/users
2:47:15 PM:       status: 200
2:47:15 PM:       to: /.netlify/functions/admin-users
2:47:15 PM:     - from: /api/admin/users/*/subscription
      status: 200
      to: /.netlify/functions/admin-user-subscription
    - from: /api/admin/signals
      status: 200
      to: /.netlify/functions/admin-signals
    - from: /api/user/subscription-status
      status: 200
      to: /.netlify/functions/user-subscription-status
    - from: /api/logout
      status: 200
      to: /.netlify/functions/logout
    - from: /api/placeholder/*/*
2:47:15 PM:       status: 200
2:47:15 PM:       to: /.netlify/functions/placeholder
2:47:17 PM: Failed during stage 'building site': Build script returned non-zero exit code: 2 (https://ntl.fyi/exit-code-2)
2:47:17 PM:     - from: /api/*
      status: 200
      to: /.netlify/functions/server/:splat
    - from: /*
      status: 200
      to: /index.html
  redirectsOrigin: config
2:47:17 PM: Build failed due to a user error: Build script returned non-zero exit code: 2
2:47:17 PM: Failing build: Failed to build site
2:47:17 PM: Finished processing build request in 24.967s